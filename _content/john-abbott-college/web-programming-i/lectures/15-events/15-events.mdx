---
# General Information
category: "Web Programming I"
title: "events"
created: "2024-09-24"
number: 15
---

# Event Recap

## Why do we love events?

Web development revolves around creating interactive and dynamic experiences for users, and events are at the heart of that interactivity

## Why do elements propagate events?

Event propagation is a fundamental concept in web development that explains how events are handled in the document

## How do events propagate?

The DOM is structured like a tree, with parent and child elements. When an event occurs on a specific target element (like a button), it first triggers that element's event handler. After executing the handler on the target element, the event bubbles up to its parent element, then to the grandparent, and so on, until it reaches the root of the DOM. This allows parent elements to also respond to events that happen on their children and becomes particularly evident when we have nested event handlers.

## How do identify the target?

Before the event reaches the target element, it can also be captured as it travels down the DOM tree. This is called event capturing, where the event starts from the root and goes down to the target element.

# Event Objects

An event object is created automatically by the browser when an event occurs in the DOM. This object contains information about the event, including details like the type of event, the target element, and additional properties specific to the event type

## How is it made?

- Step 1: Event Trigger ðŸ‘‰ When a user interacts with an element (e.g., clicking a button), the browser detects this interaction and triggers the corresponding event.
- Step 2: Automatic Creation ðŸ‘‰ The browser automatically creates an event object specific to that event and passes it to the event handler function.
- Step 3: The event object contains various properties (e.g. `type`, `target`) and methods (e.g. `preventDefault()`, `stopPropagation()`, etc.) that developers can use to interact with the event.

## Button Example

```html
<button id="myButton">Click Me!</button>

<script>
  const button = document.getElementById("myButton");

  button.addEventListener("click", function (event) {
    console.log("Event Type:", event.type); // notice me
    console.log("Target Element:", event.target); // notice me
  });
</script>
```

## Form Example

Going back to our forms from last week:

```html
<form id="myForm" action="submit-form.php" target="_blank" method="post">
  <label for="username">Username:</label>
  <input type="text" id="username" name="username" />
  <button type="submit">Submit</button>
</form>

<script>
  const form = document.getElementById("myForm");

  form.addEventListener("submit", function (event) {
    console.log("Event Type:", event.type); // notice me
    console.log("Target Element:", event.target); // notice me
    event.preventDefault(); // notice me
    const username = event.target.username.value; // notice me
    console.log(username);
  });
</script>
```

# Event Bubbling Best Practices

Last class we focused on how event bubbling works, now we are going to learn how to use it effectively.

## Why?

Event bubbling is has several use cases on when it's handy:

- Event Delegation ðŸ‘‰ Instead of adding event listeners to each child element, you can attach a single listener to a parent element. This improves performance.
- Keeping it Simple ðŸ‘‰ Having a single listener for a group of elements simplifies the codebase.

## Good Example

Here is an example of effective Event Delegation:

```html
<ul id="itemList">
  <li>Item 1</li>
  <li>Item 2</li>
  <li>Item 3</li>
</ul>

<script>
  const itemList = document.getElementById("itemList");

  // Event listener on the parent element
  itemList.addEventListener("click", function (event) {
    if (event.target.tagName === "LI") {
      alert(`You clicked: ${event.target.textContent}`);
    }
  });
</script>
```

This is a good example because instead of attaching event listeners to each list item, you attach one listener to the parent `<ul>` element.

## Bad Example

If i wanted to write this code poorly, I could do the following:

```html
<ul id="itemList">
  <li>Item 1</li>
  <li>Item 2</li>
  <li>Item 3</li>
</ul>

<script>
  const items = document.querySelectorAll("#itemList li");

  // Adding event listeners to each <li>
  items.forEach((item) => {
    item.addEventListener("click", function () {
      alert(`You clicked: ${item.textContent}`);
    });
  });
</script>
```

Attaching individual click event listeners to each list item instead of using event delegation.

## Exercise (Optional)

I invite you guys to tinker with the Butterfly example from yesterday and apply best practices

# Use Strict

`"use strict";` is a directive in JavaScript that enables strict mode, which is a way to opt into a restricted variant of JavaScript.

## Why use it?

It helps catch common coding errors and unsafe actions, making JavaScript thankfully easier to work with.

## How to use it?

You can put it at the beginning of script OR at beginning of function to apply for only that function.

```js
"use strict";
const stuff = "stuff";
// other stuff
```

```js
"use strict";
function doStuff() {
  console.log("doing stuff");
}
```

## Benefits

Prevents Undeclared Variables ðŸ‘‰ In strict mode, assigning a value to an undeclared variable will throw a `ReferenceError`.

```js
x = 3.14; // ReferenceError: x is not defined
```

Prevents duplicate Parameter Names ðŸ‘‰ In strict mode, you cannot have duplicate parameter names in function declarations, which helps prevent confusion.

```js
"use strict";
function addStuff(x, x, y) {
  return x + x + y; // Uncaught SyntaxError: Duplicate parameter name not allowed in this context
}
```

## Official Documentation

Check out the official docs on `Strict` mode [here](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode).

To quote the official documentation:

```text
JavaScript's strict mode is a way to opt in to a restricted variant of JavaScript,
thereby implicitly opting-out of "sloppy mode"
```

## Where does it work?

It's ignored by older browsers like Internet Explorer, however if you are using Chrome you should be good.

# Exercise 1

Get together in groups of up to 4 people and if you prefer to work independently, thats ok too.

## The Task

Write the worst JavaScript you can get away with that still compiles. Refer to the [official documentation](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode) for inspiration.

Compare what happens before and after. What is the worst peice of code you can write that only gets flagged as an error in strict more?

## Submission

Send me a MIO containing the code after class and members of your group after class. The code that is the ugliest will receive a prize on Friday.

## Friday Quiz

The remainder of the class is for quiet study. I will post all the notes shortly and read over everything that contains information on form validation and event bubbling.
