<html lang="en"></html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Universal Paperclips</title>
    <!-- NOTICE THE IMPORT -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  </head>
  <body>
    <h2 id="paperclip-count">Paperclips: 0</h2>
    <button id="make-paperclip">Make Paperclip</button>
    <div class="business-section">
      <h3>Business</h3>
      <div>
        Available Funds: <span id="available-funds">$0.00</span>
      </div>
      <div>
        Unsold Inventory: <span id="unsold-inventory">0</span>
      </div>
      <div>
        <button id="decrease-price">lower</button>
        <button id="increase-price">raise</button>
        Price per Clip: 
        <span id="price-per-clip">$0.25</span>
      </div>
    </div>

    <script>
      let paperclipCount = 0;
      let availableFunds = 0.00;
      let unsoldInventory = 0;
      let pricePerClip = 0.25;

      // function to update the UI
      function updateUI() {
        $("#paperclip-count").text("Paperclips: " + paperclipCount);
        $("#available-funds").text("$" + availableFunds.toFixed(2));
        $("#unsold-inventory").text(unsoldInventory);
        $("#price-per-clip").text("$" + pricePerClip.toFixed(2));
      }

      function makePaperclip() {
        paperclipCount++;
        unsoldInventory++;
        updateUI();
      }

      function increasePrice() {
        pricePerClip += 0.01;
        updateUI();
      }

      function decreasePrice() {
        if (pricePerClip > 0.01) {
          pricePerClip -= 0.01;
          updateUI();
        }
      }

      // Simulate sales every 3 seconds
      function simulateSales() {
        if (unsoldInventory > 0) {
          // Sell 1 paperclip every 3 seconds
          let soldClips = 1; 
          unsoldInventory -= soldClips;
          availableFunds += soldClips * pricePerClip;
          updateUI();
        }
      }

      // Event handlers
      $("#make-paperclip").on("click", makePaperclip);
      $("#increase-price").on("click", increasePrice);
      $("#decrease-price").on("click", decreasePrice);

      // Call simulateSales every 3 seconds
      setInterval(simulateSales, 3000);
    </script>
  </body>
</html>